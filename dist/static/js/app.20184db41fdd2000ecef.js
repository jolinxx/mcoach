webpackJsonp([1],{"/6kn":function(t,e){},"4PjT":function(t,e){},"4ml/":function(t,e){},EDgR:function(t,e){!function(t,e){const a=t.documentElement;function s(){const t=Math.min(a.getBoundingClientRect().width,768);a.style.fontSize=t/25+"px"}s(),e.addEventListener("resize",s)}(document,window)},ELdL:function(t,e){},EVkX:function(t,e){},EfTj:function(t,e){},Imea:function(t,e){},LCEI:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var o=a("VU/8")({name:"App"},i,!1,function(t){a("cp38")},null,null).exports,n=a("Fd2+"),r=(a("EDgR"),a("4ml/"),a("/ocq")),l=a("hKoQ"),c=a.n(l),m=a("mtWM"),d=a.n(m),u=a("mw3O"),v=a.n(u);c.a.polyfill(),d.a.defaults.baseURL="../lossweight/coach/",d.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",d.a.defaults.timeout=6e4,d.a.interceptors.request.use(t=>t,t=>Promise.reject(t)),d.a.interceptors.response.use(t=>{let e=t.data,a=t.status;if(e.sUserStatus&&"N"==e.sUserStatus.login&&(location.href="/login"),200===a||304===a)return e;location.href="/login"},t=>{if(!t.response.status.toString().startsWith("5"))return Promise.reject(t);location.href="/login"});const h=t=>d.a.get("classusers/"+t.classId,t);var p={components:{[n.f.name]:n.f,[n.b.name]:n.b,[n.a.name]:n.a,[n.c.name]:n.c,[n.i.name]:n.i},data:()=>({errorMsg:"",loadingShow:!1,formItem:{userName:"",passwd:""}}),methods:{onClickLeft(){this.$router.push({name:"Goods"})},async login(){this.loadingShow=!0;try{let t="userName="+this.formItem.userName+"&passwd="+this.formItem.passwd,e=await(t=>d.a.post("login",t))(t);if("SUCCESS"===e.returnCode&&"SUCCESS"===e.resultCode){this.errorMsg=e.errCodeDes,this.loadingShow=!1;let t=JSON.stringify(e.data);sessionStorage.setItem("coachData",t),this.$router.push({name:"class_list"})}else console.log("登录失败:"+e),this.errorMsg=e.errCodeDes,this.loadingShow=!1}catch(t){alert(t)}}}},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"info-box"}},[t._m(0),t._v(" "),a("div",[a("van-cell-group",[a("van-field",{attrs:{label:"账号",placeholder:"请输入手机号",clearable:""},model:{value:t.formItem.userName,callback:function(e){t.$set(t.formItem,"userName",e)},expression:"formItem.userName"}}),t._v(" "),a("van-field",{attrs:{label:"密码",type:"password",placeholder:"请输入密码"},model:{value:t.formItem.passwd,callback:function(e){t.$set(t.formItem,"passwd",e)},expression:"formItem.passwd"}})],1),t._v(" "),a("p",{staticClass:"red"},[t._v(t._s(t.errorMsg))]),t._v(" "),a("van-button",{attrs:{round:"",type:"primary",size:"normal"},on:{click:t.login}},[a("van-loading",{directives:[{name:"show",rawName:"v-show",value:t.loadingShow,expression:"loadingShow"}]}),t._v(" 登录\n\t\t")],1)],1),t._v(" "),a("div",{attrs:{id:"copyright"}},[t._v("© 2018 多锐运动 中国·长沙")])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bg"},[e("img",{staticClass:"logo",attrs:{src:a("fqxG")}}),this._v(" "),e("div",{staticClass:"title"},[this._v("私教登录")])])}]};var g=a("VU/8")(p,_,!1,function(t){a("EVkX")},"data-v-741d12cc",null).exports,f={components:{[n.n.name]:n.n,[n.h.name]:n.h,[n.a.name]:n.a,[n.q.name]:n.q,[n.b.name]:n.b},data:()=>({value:"",classInfoist:[],loading:!1,finished:!1,totalRows:0,pot:1}),created(){},methods:{onLoad(){setTimeout(()=>{this.kk(this.pot),this.pot=this.pot+1},1e3)},async kk(t){console.log(12123);const e={params:{curPage:t,pageSize:10}};let a=await(t=>d.a.get("class",t))(e);if(1==a.success){let t=a.data,e=this.classInfoist;for(var s in t)e.push(t[s]);this.classInfoist=e,this.totalRows=a.totalRows,this.loading=!1,this.classInfoist.length>=this.totalRows&&(this.finished=!0)}else console.log("获取班级信息失败："+a)},async onSearch(){console.log("搜索值"+this.value);const t={params:{curPage:1,pageSize:10,className:this.value}};let e=await(t=>d.a.get("class",t))(t);1==e.success?(console.log(e),this.classInfoist=e.data):console.log("获取班级信息失败："+e)},evaluate(t,e){sessionStorage.setItem("classId",t),sessionStorage.setItem("className",e),this.$router.push({name:"class_evaluate"})},getClassUsers(t,e){sessionStorage.setItem("classId",t),sessionStorage.setItem("className",e),this.$router.push({name:"member_list"})}}},k={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"class_list"},[a("van-search",{attrs:{placeholder:"请输入减肥营名称"},on:{search:t.onSearch},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),t._v(" "),a("van-list",{attrs:{finished:t.finished,offset:10},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[t._l(t.classInfoist,function(e,s){return a("van-cell",{key:s},[a("div",{staticClass:"item_card_box",staticStyle:{height:"6rem","background-color":"aliceblue","text-align":"center"}},[a("div",{staticClass:"item_card_info float_l"},[a("div",{staticClass:"item_card_title hid"},[t._v(t._s(e.className))]),t._v(" "),a("div",{attrs:{id:"item_card_time_status"}},[a("span",{staticClass:"item_card_time"},[t._v(t._s(e.startDate)+"至"+t._s(e.endDate))]),t._v(" "),a("van-tag",{staticClass:"item_card_status",class:e.status,attrs:{round:""}},[t._v(t._s("BEFORE_IN"==e.status?"待开班":"IN"==e.status?"开班中":"已结束"))])],1)]),t._v(" "),a("div",{staticClass:"item_card_but"},[a("div",{staticStyle:{position:"relative"}},[a("van-button",{staticClass:"purple",attrs:{type:"primary",size:"small"},on:{click:function(a){t.evaluate(e.classId,e.className)}}},[t._v("去打分 ")]),t._v(" "),a("van-tag",{staticClass:"num",attrs:{round:"",type:"danger"}},[t._v(t._s(e.waitScoreUserForumNum))])],1),t._v(" "),a("div",[a("van-button",{staticClass:"blue",attrs:{type:"primary",size:"small"},on:{click:function(a){t.getClassUsers(e.classId,e.className)}}},[t._v("查看成员")])],1)])])])}),t._v(" "),void 0],2),t._v(" "),a("div")],1)},staticRenderFns:[]};var b=a("VU/8")(f,k,!1,function(t){a("jeGm")},"data-v-27c4ed85",null).exports,C={components:{[n.m.name]:n.m,[n.d.name]:n.d,[n.j.name]:n.j,[n.q.name]:n.q,[n.a.name]:n.a,[n.l.name]:n.l,[n.k.name]:n.k,[n.r.name]:n.r,[n.g.name]:n.g,[n.e.name]:n.e},data:()=>({title:"",kaDetailList:[],remarkList:[],kaDetail:"",totalRows:0,forumType:0,value:0,score:"",show:!1,starCommsList:[],evaluateDetail:"",ss:500}),created(){this.getClassKaList()},methods:{onClickRight(){this.$router.push({name:"class_list"})},async getStarScoreComms(){const t={forumType:this.forumType,starNum:this.value-1};let e=await(t=>d.a.get("starscorecomms/"+t.forumType+"/"+t.starNum))(t);1==e.success&&(console.log(e),0!=e.data.comms.length&&(this.ss=500,this.show=!0,this.starCommsList=e.data.comms),this.score=e.data.score,console.log(this.score))},async getClassKaList(){let t=sessionStorage.getItem("classId");this.title=sessionStorage.getItem("className"),console.log(t);const e={classId:t,params:{pageStart:0,pageSize:100,scoreStatus:"waitting"}};let a=await(t=>d.a.get("forum/"+t.classId,t))(e);1==a.success?(this.kaDetailList=a.data,this.totalRows=this.kaDetailList.length-1,console.log(this.kaDetailList[0].fileUrl),this.getClassKaDetail(this.kaDetailList[0].userId,t,this.kaDetailList[0].createTime,this.kaDetailList[0].fileUrl,this.kaDetailList[0].forumType,this.kaDetailList[0].nickName),this.forumType=this.kaDetailList[0].forumType,this.getClassMemberRemark(this.kaDetailList[0].userId,t)):console.log("获取班级成员打卡列表失败："+a)},async getClassKaDetail(t,e,a,s,i,o){const n={classId:e,userId:t,params:{exeDate:a}};let r=await(t=>d.a.get("sprotmethod/"+t.classId+"/"+t.userId,t))(n);if(console.log(r),1==r.success){let t={};t.nickName=o,t.sex="FEMALE"==r.data.baseInfo.sex?"女":"男",t.bmi=r.data.baseInfo.bmi.toFixed(1),t.nowBmi=r.data.baseInfo.nowBmi.toFixed(1);let e=new Date;switch(t.age=e.getFullYear()-r.data.baseInfo.sr_year,t.shipu=r.data.shipu,t.sport=r.data.sport,t.fileUrl=s.replace(/\/s\//g,"/o/"),i){case 0:t.forumName="运动打卡";break;case 1:t.forumName="早餐打卡";break;case 2:t.forumName="中餐打卡";break;case 3:t.forumName="晚餐打卡";break;default:t.forumName="加餐打卡"}this.kaDetail=t,console.log(this.kaDetail)}else console.log("获取班级成员打卡详情失败："+r)},async getClassMemberRemark(t,e){const a={classId:e,userId:t};let s=await(t=>d.a.get("remark/"+t.classId+"/"+t.userId))(a);1==s.success?this.remarkList=s.data:console.log("获取班级成员备注列表失败："+s)},useComms(t){console.log(t),this.ss=t,console.log(this.starCommsList[t].coachComment),this.evaluateDetail=this.starCommsList[t].coachComment},async forumaction(){if(""==this.evaluateDetail||""==this.score&&0!=this.score)n.r.fail("信息不全！");else{n.r.loading({mask:!0,message:"提交中..."});let t=sessionStorage.getItem("classId"),e=JSON.parse(sessionStorage.getItem("coachData")),a={actDetail:{comment:this.evaluateDetail,headUrl:e.coachHeadUrl,nickName:e.coachNickName,userId:e.coachUserId},actType:3,forumId:this.kaDetailList[0].forumId,forumImg:this.kaDetail.fileUrl};const s={forumId:this.kaDetailList[0].forumId,actDetail:this.evaluateDetail,actionExt:JSON.stringify(a),classId:t,forumId:this.kaDetailList[0].forumId,score:this.score,scoreFlag:0,searchUserId:this.kaDetailList[0].userId};console.log(s),1==(await(t=>d.a.post("forumaction/"+t.forumId,t))(s)).success?(console.log("教练评测成功"),n.r.success("提交成功！"),setTimeout(function(){window.scrollTo(0,-1),window.location.reload()},500)):console.log("教练评测失败")}},confirmDeleteKa(){n.e.confirm({title:"警告",message:"确认删除该打卡吗？删除后，用户和您将无法再次看到该打卡！"}).then(()=>{n.r.loading({mask:!0,message:"删除中..."}),this.deleteKa()}).catch(()=>{})},async deleteKa(){const t={forumId:this.kaDetailList[0].forumId};1==(await(t=>d.a.delete("forum/"+t.forumId))(t)).success?(n.r.success("删除成功"),setTimeout(function(){window.scrollTo(0,-1),window.location.reload()},500)):n.r.fail("删除失败")}}},w={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"member_remark_box"},[a("van-nav-bar",{attrs:{title:t.title,"right-text":"首页"},on:{"click-right":t.onClickRight}}),t._v(" "),a("van-row",{staticClass:"remark_item_head"},[a("van-col",{attrs:{span:"12"}},[t._v("为"),a("span",{staticClass:"red"},[t._v("【"+t._s(t.kaDetail.nickName)+"】")]),t._v("打分")]),t._v(" "),a("van-col",{attrs:{span:"4",offset:"4"}},[t._v("还剩"),a("span",{staticClass:"red"},[t._v(t._s(t.totalRows))]),t._v("张")])],1),t._v(" "),a("div",{staticClass:"remark_item_tag"},[a("van-tag",{attrs:{size:"large",mark:"",type:"danger"}},[t._v(t._s(t.kaDetail.forumName))]),t._v(" "),a("van-icon",{staticStyle:{float:"right","margin-right":"1rem"},attrs:{name:"clear"},on:{click:t.confirmDeleteKa}})],1),t._v(" "),a("div",{staticClass:"remark_item_pic"},[a("img",{attrs:{src:t.kaDetail.fileUrl,alt:""}})]),t._v(" "),a("div",{staticClass:"remark_item_rate"},[a("div",{staticClass:"star_box"},[a("van-rate",{attrs:{size:30,count:6,color:"#2ba","void-color":"#ceefe8"},on:{change:t.getStarScoreComms},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),t._v(" "),t._m(0)],1),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.score,expression:"score"}],staticClass:"score_input",attrs:{type:"number",name:"score",id:"score",placeholder:"填写分数"},domProps:{value:t.score},on:{input:function(e){e.target.composing||(t.score=e.target.value)}}})]),t._v(" "),a("van-tag",{staticClass:"tag_type",staticStyle:{"background-color":"#43C2E5"},attrs:{round:"",size:"large"}},[t._v("性别："),a("span",[t._v(t._s(t.kaDetail.sex))])]),t._v(" "),a("van-tag",{staticClass:"tag_type",staticStyle:{"background-color":"#43C2E5"},attrs:{round:"",size:"large"}},[t._v("年龄："),a("span",[t._v(t._s(t.kaDetail.age))])]),t._v(" "),a("van-tag",{staticClass:"tag_type",staticStyle:{"background-color":"#43C2E5"},attrs:{round:"",size:"large"}},[t._v("初始BMI："),a("span",[t._v(t._s(t.kaDetail.bmi))])]),t._v(" "),a("van-tag",{staticClass:"tag_type",staticStyle:{"background-color":"#43C2E5"},attrs:{round:"",size:"large"}},[t._v("当前BMI："),a("span",[t._v(t._s(t.kaDetail.nowBmi))])]),t._v(" "),a("van-tag",{staticClass:"tag_type",staticStyle:{"background-color":"#E57F31"},attrs:{round:"",size:"large"}},[t._v("运动："),a("span",[t._v(t._s(t.kaDetail.sport))])]),t._v(" "),a("van-tag",{staticClass:"tag_type",staticStyle:{"background-color":"#71DB7C"},attrs:{round:"",size:"large"}},[t._v("饮食："),a("span",[t._v(t._s(t.kaDetail.shipu))])]),t._v(" "),a("div",{staticClass:"remark_item_rate"},[a("van-tag",{attrs:{size:"large",mark:"",type:"danger"}},[t._v("评语")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.evaluateDetail,expression:"evaluateDetail"}],attrs:{id:"inputPinyu",rows:"4",placeholder:"请填写评语(一句话描述，避免空行、空格，不要超过250字)"},domProps:{value:t.evaluateDetail},on:{input:function(e){e.target.composing||(t.evaluateDetail=e.target.value)}}})],1),t._v(" "),a("div",{staticClass:"remark_item_beizhu"},[a("van-tag",{attrs:{size:"large",mark:"",type:"danger"}},[t._v("备注")]),t._v(" "),a("div",{staticClass:"beizhu_box"},[a("ul",{staticClass:"beizhu"},[t._l(t.remarkList,function(e){return[a("li",[t._v(t._s(e.gmtModified)+" "+t._s(e.remarkDetail))])]})],2)])],1),t._v(" "),a("div",{staticClass:"updata"},[a("van-button",{attrs:{round:"",size:"normal"},on:{click:t.forumaction}},[t._v("提交")])],1),t._v(" "),t.show?a("van-button",{staticClass:"popupBtn",attrs:{round:"",size:"small"},on:{click:t.forumaction}},[t._v("提交")]):t._e(),t._v(" "),a("van-popup",{attrs:{position:"right"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("div",{staticClass:"popup"},[a("h3",[t._v(t._s(t.value-1)+"星评价")]),t._v(" "),a("ol",[t._l(t.starCommsList,function(e,s){return[a("li",{class:s==t.ss?"hover":"",on:{click:function(e){t.useComms(s)}}},[t._v(t._s(e.coachComment))])]})],2)])])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ul",[a("li",[t._v("0")]),t._v(" "),a("li",[t._v("1")]),t._v(" "),a("li",[t._v("2")]),t._v(" "),a("li",[t._v("3")]),t._v(" "),a("li",[t._v("4")]),t._v(" "),a("li",[t._v("5")])])])}]};var y=a("VU/8")(C,w,!1,function(t){a("EfTj")},null,null).exports,I=a("XLwt"),x=a.n(I),S={components:{[n.m.name]:n.m,[n.d.name]:n.d,[n.g.name]:n.g,[n.a.name]:n.a,[n.q.name]:n.q,[n.j.name]:n.j,[n.n.name]:n.n,[n.h.name]:n.h,[n.k.name]:n.k,[n.r.name]:n.r,[n.e.name]:n.e},data:()=>({kk:10,title:"",value:"",list:[],loading:!1,finished:!1,classUserslist:[],classUserslist2:[],show:!1,weight:"",reportId:"",totalRows:100}),mounted(){},methods:{onLoad(){console.log(this.totalRows),this.getMemberList(1),this.loading=!1},async getMemberList(t){this.title=sessionStorage.getItem("className");let e=sessionStorage.getItem("classId");try{const i={classId:e,params:{xh:"undefined",curPage:t,pageSize:100}};let o=await h(i);if(1==o.success){console.log(o),this.totalRows=o.totalRows;var a=o.data;for(var s in a)if(a[s].headUrl||(a[s].headUrl="http://www.12sporting.com/resall/dlweb/sport/live/img/default_photo@2x.png"),a[s].sr){let t=a[s].sr;t=t.split("-")[0];let e=(new Date).getFullYear();e-=t,a[s].sr=e}else a[s].sr="无";this.classUserslist=a,this.finished=!0}else console.log("获取班级成员列表失败："+o)}catch(t){console.log(t)}},onClickRight(){this.$router.push({name:"class_list"})},onSearch(){if(this.isAllNum(this.value)){console.log("全数字"),this.searchId(),this.searchNickname();let t=this.classUserslist,e=this.classUserslist2;for(let a in e)t.push(e[a]);this.classUserslist=t}else console.log("非全数字"),this.searchNickname()},confirmRemoveEatMuch(t,e,a){n.e.confirm({title:"提示",message:"确定将用户『"+t+"』的暴食状态删除吗？"}).then(()=>{n.r.loading({mask:!0,message:"加载中..."}),this.removeEatMuch(e,a)}).catch(()=>{console.log("否")})},async removeEatMuch(t,e){const a={classId:t,userId:e,dietStatus:0};1==(await(t=>d.a.put("dietstatus/"+t.classId+"/"+t.userId,t))(a)).success?(n.r.success("修改成功"),setTimeout(function(){window.location.reload()},500)):n.r.fail("修改失败")},async searchId(){const t={classId:sessionStorage.getItem("classId"),params:{curPage:1,pageSize:10,userDisplayId:this.value}};let e=await h(t);if(1==e.success){console.log(e);var a=e.data;for(var s in a)if(a[s].headUrl||(a[s].headUrl="http://www.12sporting.com/resall/dlweb/sport/live/img/default_photo@2x.png"),a[s].sr){let t=a[s].sr;t=t.split("-")[0];let e=(new Date).getFullYear();e-=t,a[s].sr=e}else a[s].sr="无";this.classUserslist2=a}else console.log("查询成员失败："+e)},async searchNickname(){const t={classId:sessionStorage.getItem("classId"),params:{curPage:1,pageSize:10,nickName:this.value}};let e=await h(t);if(1==e.success){var a=e.data;for(var s in a)if(a[s].headUrl||(a[s].headUrl="http://www.12sporting.com/resall/dlweb/sport/live/img/default_photo@2x.png"),a[s].sr){let t=a[s].sr;t=t.split("-")[0];let e=(new Date).getFullYear();e-=t,a[s].sr=e}else a[s].sr="无";console.log(a),this.classUserslist=a}else console.log("查询成员失败："+e)},seeRemark(t,e){this.$router.push({name:"member_remark",params:{userId:t,nickName:e}})},seeKa(t,e){this.$router.push({name:"ka_list",params:{userId:t,nickName:e}})},seePlan(t,e){sessionStorage.setItem("userId",t),sessionStorage.setItem("nickName",e),this.$router.push({name:"adjust_plan"})},seeDiet(t,e){sessionStorage.setItem("userId",t),this.$router.push({name:"member_diet",params:{userId:t,nickName:e}})},async emptyWeight(t){this.show=!0;const e={classId:sessionStorage.getItem("classId"),userId:t,params:{curPage:1,pageSize:7}};let a=await(t=>d.a.get("weightlist/"+t.classId+"/"+t.userId,t))(e);if(1==a.success)if(console.log(a.data),a.totalRows>0){let t=a.data;this.weight=t[0].weight,this.reportId=t[0].reportId;let e=[],s=[];for(let a in t)e.push(t[a].recordTime.split(" ")[0]),s.push(t[a].weight);e=e.reverse(),s=s.reverse(),this.showEcharts(e,s)}else this.weight="",this.reportId=""},async updateEmptyWeight(){if(""==this.reportId)Object(n.r)("reportId");else{const t={reportId:this.reportId,weight:this.weight};let e=await(t=>d.a.put("weight/"+t.reportId,t))(t);1==e.success?(console.log(e),Object(n.r)("操作成功！"),this.show=!1):Object(n.r)("修改空腹体重数据失败！")}},isAllNum:t=>!!/^[0-9]+$/.test(t),showEcharts(t,e){x.a.init(document.getElementById("myChart")).setOption({title:{text:"体重曲线"},tooltip:{trigger:"axis"},legend:{data:["体重"]},toolbox:{show:!1,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!0,data:t},yAxis:{type:"value",scale:!0,axisLabel:{formatter:"{value}kg"}},series:[{type:"line",data:e,markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},markLine:{data:[{type:"average",name:"平均值"}]}}]})}}},T={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"membeer_list"},[a("van-nav-bar",{attrs:{title:t.title,"right-text":"首页"},on:{"click-right":t.onClickRight}}),t._v(" "),a("van-search",{attrs:{placeholder:"请输入用户昵称或显示ID"},on:{search:t.onSearch},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),t._v(" "),a("van-list",{attrs:{finished:t.finished,offset:t.kk},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[t._l(t.classUserslist,function(e){return[a("div",{staticClass:"item_card_box"},[a("van-row",{staticClass:"item_card_header",attrs:{type:"flex"}},[a("van-col",{staticClass:"item_card_head",attrs:{span:"6"}},[a("img",{attrs:{src:e.headUrl}}),t._v(" "),1==e.eatMoreTimes?a("span",{staticClass:"flag eatMuch",on:{click:function(a){t.confirmRemoveEatMuch(e.userNickName,e.classId,e.userId)}}},[t._v("暴")]):t._e(),t._v(" "),"Y"==e.slq?a("span",{staticClass:"flag shengli"},[t._v("生")]):t._e()]),t._v(" "),a("van-col",{staticClass:"item_card_name",attrs:{span:"10"}},[t._v(t._s(e.userNickName))]),t._v(" "),a("van-col",{staticClass:"item_card_id",attrs:{span:"8"}},[t._v("ID："+t._s(e.userDisplayId))])],1),t._v(" "),a("van-row",{staticClass:"item_card_info",attrs:{type:"flex",justify:"space-around"}},[a("van-col",{attrs:{span:"2"}},[t._v(t._s("FEMALE"==e.sex?"女":"男"))]),t._v(" "),a("van-col",{attrs:{span:"3"}},[t._v(t._s(e.sr)+"岁")]),t._v(" "),a("van-col",{attrs:{span:"3"}},[t._v(t._s(e.height?e.height:"无")+"cm")]),t._v(" "),a("van-col",{staticClass:"bmi-color",attrs:{span:"6"}},[t._v("BMI："+t._s(e.nowBmi?e.nowBmi.toFixed(1):"无"))]),t._v(" "),a("van-col",{attrs:{span:"7"}},[t._v("空腹体重\n\t\t\t\t\t\t"),a("van-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){t.emptyWeight(e.userId)}}},[a("van-icon",{attrs:{name:"setting"}})],1)],1)],1),t._v(" "),a("van-row",{staticClass:"item_card_but",attrs:{type:"flex",justify:"space-around"}},[a("van-col",{attrs:{span:"6"}},[a("van-button",{staticStyle:{"background-color":"#8271FF"},attrs:{round:""},on:{click:function(a){t.seeRemark(e.userId,e.userNickName)}}},[t._v("查看备注")])],1),t._v(" "),a("van-col",{attrs:{span:"6"}},[a("van-button",{staticStyle:{"background-color":"#f60"},attrs:{round:""},on:{click:function(a){t.seeKa(e.userId,e.userNickName)}}},[t._v("查看打卡")])],1),t._v(" "),a("van-col",{attrs:{span:"6"}},[a("van-button",{staticStyle:{"background-color":"#2290FF"},attrs:{round:""},on:{click:function(a){t.seePlan(e.userId,e.userNickName)}}},[t._v("调整计划")])],1),t._v(" "),a("van-col",{attrs:{span:"6"}},[a("van-button",{staticStyle:{"background-color":"#2290FF"},attrs:{round:""},on:{click:function(a){t.seeDiet(e.userId,e.userNickName)}}},[t._v("查看饮食")])],1)],1)],1)]})],2),t._v(" "),a("van-popup",{attrs:{position:"bottom",overlay:!0},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("div",{staticClass:"vol-data"},[a("div",{staticClass:"charts",staticStyle:{width:"'100%',height:'6.54rem'"}},[a("div",{style:{width:"130%",height:"300px"},attrs:{id:"myChart"}})])]),t._v(" "),a("div",{staticClass:"emptyWeightBox"},[a("h3",[t._v("修改空腹体重")]),t._v(" "),a("div",{staticClass:"input_box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.weight,expression:"weight"}],staticClass:"weight_input",attrs:{type:"number",name:"weight",id:"weight",placeholder:"请填写队员空腹体重"},domProps:{value:t.weight},on:{input:function(e){e.target.composing||(t.weight=e.target.value)}}}),t._v(" "),a("span",{staticClass:"unit"},[t._v("kg")])]),t._v(" "),a("van-button",{staticStyle:{"background-color":"#2290FF"},attrs:{round:""},on:{click:t.updateEmptyWeight}},[t._v("提交")])],1)])],1)},staticRenderFns:[]};var L=a("VU/8")(S,T,!1,function(t){a("w6Me")},null,null).exports,N={components:{[n.m.name]:n.m,[n.d.name]:n.d,[n.j.name]:n.j,[n.h.name]:n.h,[n.r.name]:n.r},data:()=>({title:"",remarkList:[]}),created(){this.getMemberRemarkList()},methods:{onClickLeft(){this.$router.go(-1)},onClickRight(){this.$router.push({name:"class_list"})},async getMemberRemarkList(){this.title=this.$route.params.nickName;const t={userId:this.$route.params.userId,classId:sessionStorage.getItem("classId")};let e=await(t=>d.a.get("remark/"+t.classId+"/"+t.userId))(t);1==e.success?(console.log(e.data),this.remarkList=e.data):Object(n.r)("错误，请返回上一级！")}}},D={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"member_remarks_box"},[a("van-nav-bar",{attrs:{title:t.title,"left-text":"返回","right-text":"首页","left-arrow":""},on:{"click-left":t.onClickLeft,"click-right":t.onClickRight}}),t._v(" "),t._l(t.remarkList,function(e){return[a("div",{staticClass:"item_card_box"},[a("van-row",{staticClass:"item_card_header",staticStyle:{padding:"0.5rem 0",color:"#fff","background-color":"#8271FF"},attrs:{type:"flex"}},[a("van-col",{staticClass:"item_card_date",attrs:{span:"10"}},[t._v(t._s(e.gmtModified))])],1),t._v(" "),a("p",{staticClass:"detail"},[t._v(t._s(e.remarkDetail))])],1)]})],2)},staticRenderFns:[]};var R=a("VU/8")(N,D,!1,function(t){a("tmjG")},"data-v-465760e2",null).exports,$={components:{[n.m.name]:n.m,[n.d.name]:n.d,[n.j.name]:n.j,[n.h.name]:n.h,[n.r.name]:n.r,[n.q.name]:n.q,[n.k.name]:n.k,[n.a.name]:n.a},data:()=>({title:"",MemberKaList:[],show:!1,detail:"",score:"",content:""}),created(){this.getMemberKaList()},methods:{onClickLeft(){this.$router.go(-1)},onClickRight(){this.$router.push({name:"class_list"})},async getMemberKaList(){this.title=this.$route.params.nickName;const t={userId:this.$route.params.userId,classId:sessionStorage.getItem("classId"),params:{pageStart:0,pageSize:100}};let e=await(t=>d.a.get("forum/"+t.classId+"/"+t.userId,t))(t);if(1==e.success){var a=e.data;for(var s in a)switch(a[s].forumType){case 0:a[s].forumType="运动";break;case 1:a[s].forumType="早餐";break;case 2:a[s].forumType="中餐";break;case 3:a[s].forumType="晚餐";break;default:a[s].forumType="加餐"}this.MemberKaList=a}else Object(n.r)("错误，请返回上一级！")},kaDetail(t){console.log(t),this.detail=this.MemberKaList[t],this.detail.fileUrl=this.detail.fileUrl.replace(/\/s\//g,"/o/"),0!=this.detail.coachActions.length?(this.score=this.detail.coachActions[0].actContent,this.content=this.detail.coachActions[1].actContent):(this.score="",this.content=""),this.show=!0},closeDetail(){this.show=!1},goEvaluate(){this.$router.push({name:"class_evaluate"})}}},U={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"member_remarks_box"},[a("van-nav-bar",{attrs:{title:t.title,"left-text":"返回","right-text":"首页","left-arrow":""},on:{"click-left":t.onClickLeft,"click-right":t.onClickRight}}),t._v(" "),t._l(t.MemberKaList,function(e,s){return[a("div",{staticClass:"item_card_box",on:{click:function(e){t.kaDetail(s)}}},[a("div",{staticClass:"pic"},[a("img",{attrs:{src:e.fileUrl}}),t._v(" "),a("van-tag",{staticClass:"type",staticStyle:{"background-color":"rgba(30, 144, 255,0.7)"}},[t._v(t._s(e.forumType))]),t._v(" "),e.coachActions[0]?a("van-tag",{staticClass:"score",staticStyle:{"background-color":"rgba(255, 106, 106,0.7)"}},[t._v("\n\t\t\t\t\t评分："+t._s(e.coachActions[0].actContent)+"分\n\t\t\t\t")]):a("van-tag",{staticClass:"score no_score",staticStyle:{"background-color":"rgba(255, 106, 106,0.7)"}},[a("i",{staticClass:"icon_pencel"})])],1),t._v(" "),a("div",{staticClass:"time"},[a("span",[t._v(t._s(e.createTime))])]),t._v(" "),e.coachActions[0]?t._e():a("div",{staticClass:"evaluation_box"},[t._v("\n\t\t\t\t待评分\n\t\t\t")]),t._v(" "),e.coachActions[1]?t._e():a("div",{staticClass:"evaluation_box"},[a("span",{staticClass:"evaluation"},[t._v("无")])]),t._v(" "),e.coachActions[1]?a("div",{staticClass:"evaluation_box"},[a("span",{staticClass:"evaluation"},[t._v(t._s(e.coachActions[1].actContent))])]):t._e()])]}),t._v(" "),a("van-popup",{staticClass:"ka_detail",attrs:{position:"right"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("div",{staticClass:"popup_card_box"},[a("div",{staticClass:"popup_card_head"},[a("van-tag",{attrs:{size:"large",mark:"",type:"danger"}},[t._v(t._s(t.detail.forumType)+"打卡")]),t._v(" "),a("span",[t._v(t._s(t.detail.createTime))])],1),t._v(" "),a("div",{staticClass:"popup_card_pic"},[a("img",{attrs:{src:t.detail.fileUrl,alt:""}})]),t._v(" "),a("div",{staticClass:"popup_card_score go_evaluate"},[""!=t.score?a("div",[a("van-tag",{attrs:{size:"large",type:"danger"}},[t._v(t._s(t.detail.coachActions[0].actContent)+"分")]),t._v(" "),a("div",{staticClass:"words"},[t._v(t._s(t.detail.coachActions[1].actContent))])],1):a("div",[a("van-button",{attrs:{round:"",size:"normal"},on:{click:function(e){t.goEvaluate()}}},[t._v("去评卡")])],1),t._v(" "),a("van-button",{attrs:{round:"",size:"normal"},on:{click:function(e){t.closeDetail()}}},[t._v("关闭")])],1)])])],2)},staticRenderFns:[]};var P=a("VU/8")($,U,!1,function(t){a("n5gG")},"data-v-5f5dea43",null).exports,M={components:{[n.j.name]:n.j,[n.q.name]:n.q,[n.a.name]:n.a},data:()=>({title:"爆米花小玉 "}),methods:{onClickLeft(){Toast("返回")},onClickRight(){Toast("按钮")}}},E={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"member_remark_box"},[a("van-nav-bar",{attrs:{title:t.title,"left-text":"返回","right-text":"首页","left-arrow":""},on:{"click-left":t.onClickLeft,"click-right":t.onClickRight}}),t._v(" "),a("div",{staticClass:"item_card_box"},[a("div",{staticClass:"item_card_head"},[a("van-tag",{attrs:{size:"large",mark:"",type:"danger"}},[t._v("早餐打卡")]),t._v(" "),a("span",[t._v("2018-06-01")]),t._v(" "),a("span",[t._v("09：15")])],1),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"item_card_score go_evaluate"},[a("van-button",{attrs:{round:"",size:"normal"}},[t._v("去评卡")])],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"item_card_pic"},[e("img",{attrs:{src:a("NqaV"),alt:""}})])}]};var j=a("VU/8")(M,E,!1,function(t){a("dSKJ")},"data-v-06dff010",null).exports,z={components:{[n.m.name]:n.m,[n.d.name]:n.d,[n.j.name]:n.j,[n.q.name]:n.q,[n.a.name]:n.a,[n.o.name]:n.o,[n.p.name]:n.p,[n.e.name]:n.e,[n.r.name]:n.r},data:()=>({title:"",index:0,planList:[{}],dayPlanList:[{}],restFlag:"",disabled:!0}),created(){this.title=sessionStorage.getItem("nickName")+"的运动计划",this.getMemberPlanList()},mounted(){},methods:{onClickLeft(){this.$router.go(-1)},onClickRight(){this.$router.push({name:"class_list"})},async getMemberPlanList(){const t={classId:sessionStorage.getItem("classId"),userId:sessionStorage.getItem("userId"),params:{xh:"undefined",curPage:1,pageSize:10}};let e=await(t=>d.a.get("plan/"+t.classId+"/"+t.userId,t))(t);if(1==e.success){this.planList=e.data;let t=e.data;for(var a in t){var s=t[6-a].exeDate+":000";if(s=(s=s.substring(0,19)).replace(/-/g,"/"),new Date(s).getTime()<(new Date).getTime())return this.checkRest(6-a),this.getDayPlan(6-a),void console.log(this.index)}console.log(this.index)}},async getDayPlan(t){console.log(t),this.checkRest(t);const e={id:this.planList[t].id,params:{curPage:1,pageSize:10}};let a=await(t=>d.a.get("dayplan/"+t.id,t))(e);if(1==a.success){let e=a.data;for(let a in e)switch(e[a].planType){case"INDOOR":e[a].planName="查看动作",e[a].exeDate=this.planList[t].exeDate.split(" ")[0];break;case"OUTDOOR":e[a].planName="调整时长",e[a].exeDate=this.planList[t].exeDate.split(" ")[0];break;default:e[a].planName="替换有氧操",e[a].exeDate=this.planList[t].exeDate.split(" ")[0]}this.dayPlanList=e,console.log(this.dayPlanList),this.index=t}},confirmRest(){let t=this.planList[this.index].exeDate.split(" ")[0];n.e.confirm({title:"提示",message:"确定将时间为： "+t+"的计划，调整为休息吗？"}).then(()=>{n.r.loading({mask:!0,message:"加载中..."}),this.toRest()}).catch(()=>{console.log("否")})},async toRest(){const t={dayId:this.planList[this.index].id,way:0};1==(await(t=>d.a.post("dayplan",t))(t)).success?(n.r.success("修改成功"),console.log(this.planList[this.index].id),this.getMemberPlanList()):console.log("修改为休息失败！")},checkRest(t){"N"==this.planList[t].adjustRest?(this.restFlag="调整为休息",this.disabled=!1):(this.restFlag="已调整为休息",this.disabled=!0)},handleSingleAction(t,e,a,s){switch(console.log(t),t){case"INDOOR":this.$router.push({name:"view_action",params:{id:e}});break;case"OUTDOOR":console.log(e),this.$router.push({name:"change_time",params:{warmTime:this.dayPlanList[s].warmTime,relaxTime:this.dayPlanList[s].relaxTime,raceTime:this.dayPlanList[s].raceTime,calorie:this.dayPlanList[s].calorie,id:e}});break;default:console.log(a),sessionStorage.setItem("dayId",this.planList[a].id),sessionStorage.setItem("actionType","update"),this.$router.push({name:"aerobics",params:{id:e}})}},addSinglePlan(t){console.log(t),sessionStorage.setItem("dayId",this.planList[t].id),this.$router.push({name:"once_sport"})},addOutdoorPlan(t){sessionStorage.setItem("dayId",this.planList[t].id),this.$router.push({name:"outdoor_sport"})},addAerobics(t){console.log(t),sessionStorage.setItem("dayId",this.planList[t].id),sessionStorage.setItem("actionType","add"),this.$router.push({name:"aerobics"})},confirmDeleteAction(t,e,a){n.e.confirm({title:"提示",message:"确认删除运动项目『"+e+"』吗？"}).then(()=>{switch(n.r.loading({mask:!0,message:"加载中..."}),a){case"INDOOR":this.deleteIndoor(t);break;case"OUTDOOR":this.deleteOutdoor(t);break;default:this.deleteAerobicses(t)}}).catch(()=>{console.log("否")})},async deleteIndoor(t){const e={id:t};1==(await(t=>d.a.delete("indoor/"+t.id))(e)).success?(n.r.success("修改成功"),this.getMemberPlanList()):n.r.fail("修改失败")},async deleteOutdoor(t){const e={id:t};1==(await(t=>d.a.delete("outdoor/"+t.id))(e)).success?(n.r.success("修改成功"),this.getMemberPlanList()):n.r.fail("修改失败")},async deleteAerobicses(t){const e={id:t};1==(await(t=>d.a.delete("day/aerobicses/"+t.id))(e)).success?(n.r.success("修改成功"),this.getMemberPlanList()):n.r.fail("修改失败")}}},A={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"member_plan_box"},[a("van-nav-bar",{attrs:{title:t.title,"left-text":"返回","right-text":"首页","left-arrow":""},on:{"click-left":t.onClickLeft,"click-right":t.onClickRight}}),t._v(" "),a("div",[a("van-tabs",{on:{change:function(e){t.getDayPlan(t.index)}},model:{value:t.index,callback:function(e){t.index=e},expression:"index"}},t._l(t.planList,function(e,s){return a("van-tab",{key:s,attrs:{title:"第"+(s+1)+"天"}},[t._l(t.dayPlanList,function(e,i){return[a("div",{staticClass:"item_card_box"},[a("van-row",{staticClass:"item_card_header",attrs:{type:"flex",justify:"space-around"}},[a("van-col",{staticClass:"item_card_name",attrs:{span:"24"}},[t._v(t._s(e.itemName))])],1),t._v(" "),a("van-row",{staticStyle:{height:"1rem","line-height":"1rem"},attrs:{type:"flex",justify:"space-around"}},[a("van-col",{staticClass:"item_card_time",staticStyle:{"font-size":"12px",height:"1rem","line-height":"1rem"},attrs:{span:"24"}},[t._v(t._s(e.exeDate))])],1),t._v(" "),a("van-row",{staticClass:"item_card_header",attrs:{type:"flex",justify:"space-around"}},[a("van-col",{staticClass:"item_card_time",attrs:{span:"8"}},[t._v(t._s(e.duration)+"分钟")]),t._v(" "),a("van-col",{staticClass:"item_card_cal",attrs:{span:"8"}},[t._v(t._s(e.calorie)+"千卡")]),t._v(" "),a("van-col",{staticClass:"item_card_status",attrs:{span:"8"}},[t._v(t._s("Y"==e.complet?"完成":"未完成"))])],1),t._v(" "),a("van-row",{staticClass:"item_card_but",attrs:{type:"flex",justify:"space-around"}},[a("van-col",{attrs:{span:"8"}},[a("van-button",{staticStyle:{"background-color":"#2290FF"},attrs:{round:""},on:{click:function(a){t.handleSingleAction(e.planType,e.id,s,i)}}},[t._v(t._s(e.planName))])],1),t._v(" "),a("van-col",{attrs:{span:"6"}},[a("van-button",{staticStyle:{"background-color":"#f60"},attrs:{round:""},on:{click:function(a){t.confirmDeleteAction(e.id,e.itemName,e.planType)}}},[t._v("删除")])],1)],1)],1)]})],2)}))],1),t._v(" "),a("div",{staticClass:"item_card_score go_evaluate"},[a("van-button",{attrs:{round:"",size:"normal",disabled:t.disabled},on:{click:function(e){t.confirmRest()}}},[t._v(t._s(t.restFlag))]),t._v(" "),a("van-button",{attrs:{round:"",size:"normal"},on:{click:function(e){t.addSinglePlan(t.index)}}},[t._v("添加单次计划")]),t._v(" "),a("van-button",{attrs:{round:"",size:"normal"},on:{click:function(e){t.addOutdoorPlan(t.index)}}},[t._v("添加室外运动")]),t._v(" "),a("van-button",{attrs:{round:"",size:"normal"},on:{click:function(e){t.addAerobics(t.index)}}},[t._v("添加有氧操")])],1)],1)},staticRenderFns:[]};var F=a("VU/8")(z,A,!1,function(t){a("cohS")},"data-v-2f5cba69",null).exports,O={components:{[n.m.name]:n.m,[n.d.name]:n.d,[n.j.name]:n.j,[n.q.name]:n.q,[n.a.name]:n.a,[n.o.name]:n.o,[n.p.name]:n.p,[n.e.name]:n.e,[n.r.name]:n.r},data:()=>({title:"有氧操",value:0,caoList:[]}),created(){this.getAerobicsesList()},methods:{onClickLeft(){this.$router.go(-1)},onClickRight(){this.$router.push({name:"class_list"})},async getAerobicsesList(){let t=await(t=>d.a.get("aerobicses",t))({params:{xh:"undefined",curPage:1,pageSize:100}});1==t.success&&(this.caoList=t.data)},checkActionType(t,e){"update"==sessionStorage.getItem("actionType")?this.confirmUpdataAerobicses(t,e):this.confirmAddAerobicses(t,e)},confirmUpdataAerobicses(t,e){n.e.confirm({title:"提示",message:"确认将当日有氧操修改为『"+e+"』吗？"}).then(()=>{n.r.loading({mask:!0,message:"加载中..."}),this.updataAerobicses(t)}).catch(()=>{console.log("否")})},async updataAerobicses(t){const e={id:this.$route.params.id,dayId:sessionStorage.getItem("dayId"),newAerobicsId:t,searchUserId:sessionStorage.getItem("userId")};1==(await(t=>d.a.put("day/aerobicses/"+t.id,t))(e)).success?(n.r.success("修改成功"),this.$router.go(-1)):n.r.fail("修改失败")},confirmAddAerobicses(t,e){n.e.confirm({title:"提示",message:"确认添加有氧操『"+e+"』吗？"}).then(()=>{n.r.loading({mask:!0,message:"加载中..."}),this.addAerobicses(t)}).catch(()=>{console.log("否")})},async addAerobicses(t){const e={dayId:sessionStorage.getItem("dayId"),newAerobicsId:t,searchUserId:sessionStorage.getItem("userId")};1==(await(t=>d.a.post("day/aerobicses",t))(e)).success?(n.r.success("修改成功"),this.$router.go(-1)):n.r.fail("修改失败")}}},q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"member_plan_box"},[a("van-nav-bar",{attrs:{title:t.title,"left-text":"返回","right-text":"首页","left-arrow":""},on:{"click-left":t.onClickLeft,"click-right":t.onClickRight}}),t._v(" "),t._l(t.caoList,function(e){return[a("div",{staticClass:"plan_item_box",on:{click:function(a){t.checkActionType(e.id,e.courseName)}}},[a("img",{attrs:{src:e.poster,alt:""}}),t._v(" "),a("div",{staticClass:"plan_item_info"},[a("div",[t._v(t._s(e.courseName))]),t._v(" "),a("span",[t._v("ID："+t._s(e.id))]),t._v(" / "),a("span",[t._v("难度："+t._s(e.difficultyLevel))])])])]})],2)},staticRenderFns:[]};var V=a("VU/8")(O,q,!1,function(t){a("LCEI")},null,null).exports,K={components:{[n.m.name]:n.m,[n.d.name]:n.d,[n.j.name]:n.j,[n.q.name]:n.q,[n.a.name]:n.a,[n.o.name]:n.o,[n.p.name]:n.p,[n.e.name]:n.e,[n.r.name]:n.r},data:()=>({title:"单次计划",value:0,list:[]}),created(){this.getSinglePlanList()},methods:{onClickLeft(){this.$router.go(-1)},onClickRight(){this.$router.push({name:"class_list"})},async getSinglePlanList(){let t=await(t=>d.a.get("singleplan",t))({params:{xh:"undefined",curPage:1,pageSize:100}});1==t.success&&(this.list=t.data)},confirmChooseAction(t,e){n.e.confirm({title:"提示",message:"确认添加单次计划『"+t+"』吗？"}).then(()=>{console.log("1"),n.r.loading({mask:!0,message:"加载中..."}),this.chooseAction(e)}).catch(()=>{console.log("否")})},async chooseAction(t){const e={searchUserId:sessionStorage.getItem("userId"),planId:t,dayId:sessionStorage.getItem("dayId")};1==(await(t=>d.a.post("indoor",v.a.stringify(t)))(e)).success?(n.r.success("修改成功"),this.$router.go(-1)):n.r.fail("修改失败")}}},B={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"member_plan_box"},[a("van-nav-bar",{attrs:{title:t.title,"left-text":"返回","right-text":"首页","left-arrow":""},on:{"click-left":t.onClickLeft,"click-right":t.onClickRight}}),t._v(" "),a("van-row",{staticClass:"plan_title"},[a("van-col",{attrs:{span:"3"}},[t._v("ID")]),t._v(" "),a("van-col",{attrs:{span:"9"}},[t._v("名称")]),t._v(" "),a("van-col",{attrs:{span:"3"}},[t._v("难度")]),t._v(" "),a("van-col",{attrs:{span:"5"}},[t._v("时长（分）")]),t._v(" "),a("van-col",{attrs:{span:"4"}},[t._v("动作个数")])],1),t._v(" "),a("ul",{staticClass:"indoorUl"},[t._l(t.list,function(e){return[a("li",{on:{click:function(a){t.confirmChooseAction(e.planName,e.planId)}}},[a("van-row",[a("van-col",{attrs:{span:"3"}},[t._v(t._s(e.planId))]),t._v(" "),a("van-col",{staticClass:"words",attrs:{span:"9"}},[t._v(t._s(e.planName))]),t._v(" "),a("van-col",{attrs:{span:"3"}},[t._v(t._s(e.difficulty))]),t._v(" "),a("van-col",{attrs:{span:"5"}},[t._v(t._s(e.duration))]),t._v(" "),a("van-col",{attrs:{span:"4"}},[t._v(t._s(e.motionNum))])],1)],1)]})],2)],1)},staticRenderFns:[]};var G=a("VU/8")(K,B,!1,function(t){a("/6kn")},"data-v-5069829a",null).exports,W={components:{[n.m.name]:n.m,[n.d.name]:n.d,[n.j.name]:n.j,[n.q.name]:n.q,[n.a.name]:n.a,[n.o.name]:n.o,[n.p.name]:n.p},data:()=>({title:"查看动作",value:0,list:[]}),created(){this.getDayMotionList()},methods:{onClickLeft(){this.$router.go(-1)},onClickRight(){this.$router.push({name:"class_list"})},async getDayMotionList(){const t={id:this.$route.params.id,params:{xh:"undefined",curPage:1,pageSize:100}};let e=await(t=>d.a.get("daymotion/"+t.id,t))(t);1==e.success&&(this.list=e.data)}}},Y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"member_plan_box kk"},[a("van-nav-bar",{attrs:{title:t.title,"left-text":"返回","right-text":"首页","left-arrow":""},on:{"click-left":t.onClickLeft,"click-right":t.onClickRight}}),t._v(" "),a("van-row",{staticClass:"action_title"},[a("van-col",{staticStyle:{"line-height":"3rem"},attrs:{span:"3"}},[t._v("顺序")]),t._v(" "),a("van-col",{staticStyle:{"line-height":"3rem"},attrs:{span:"9"}},[t._v("动作名称")]),t._v(" "),a("van-col",{staticStyle:{"line-height":"3rem"},attrs:{span:"3"}},[t._v("个数")]),t._v(" "),a("van-col",{staticStyle:{"line-height":"3rem"},attrs:{span:"5"}},[t._v("时长（秒）")]),t._v(" "),a("van-col",{attrs:{span:"4"}},[t._v("休息时长（秒）")])],1),t._v(" "),a("ul",{staticClass:"view_action"},[t._l(t.list,function(e){return[a("li",{staticClass:"kk"},[a("van-row",[a("van-col",{attrs:{span:"3"}},[t._v(t._s(e.unitSort))]),t._v(" "),a("van-col",{staticClass:"words",attrs:{span:"9"}},[t._v(t._s(e.motionName))]),t._v(" "),a("van-col",{attrs:{span:"3"}},[t._v(t._s(e.motionNum))]),t._v(" "),a("van-col",{attrs:{span:"5"}},[t._v(t._s(e.motionDuration))]),t._v(" "),a("van-col",{attrs:{span:"4"}},[t._v(t._s(e.restDuration))])],1)],1)]})],2)],1)},staticRenderFns:[]};var J=a("VU/8")(W,Y,!1,function(t){a("4PjT")},null,null).exports,H={components:{[n.j.name]:n.j,[n.q.name]:n.q,[n.a.name]:n.a,[n.o.name]:n.o,[n.p.name]:n.p,[n.r.name]:n.r},data:()=>({title:"室外运动计划",value:0,warmTime:"",raceTime:"",relaxTime:"",couponList:[{id:"RUN",name:"跑步"},{id:"ONFOOT",name:"徒步"},{id:"RIDING",name:"骑行"}],couponSelected:""}),created(){this.couponSelected=this.couponList[0].id},methods:{onClickLeft(){this.$router.go(-1)},onClickRight(){this.$router.push({name:"class_list"})},getCouponSelected(){console.log(this.couponSelected)},async addOutdoorPlan(){if(n.r.loading({mask:!0,message:"加载中..."}),0==this.warmTime||0==this.raceTime||0==this.relaxTime)n.r.fail("缺少数据");else{const t={dayId:sessionStorage.getItem("dayId"),warmTime:60*this.warmTime,raceTime:60*this.raceTime,relaxTime:60*this.relaxTime,itemType:this.couponSelected,searchUserId:sessionStorage.getItem("userId"),duration:60*(this.warmTime- -this.raceTime- -this.relaxTime)};1==(await(t=>d.a.post("outdoor",v.a.stringify(t)))(t)).success?(n.r.success("添加成功"),this.$router.go(-1)):n.r.fail("添加失败")}}}},X={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"member_plan_box"},[a("van-nav-bar",{attrs:{title:t.title,"left-text":"返回","right-text":"首页","left-arrow":""},on:{"click-left":t.onClickLeft,"click-right":t.onClickRight}}),t._v(" "),a("div",{staticClass:"outdoor_sport_box"},[a("div",{staticClass:"control-group"},[a("label",{staticClass:"control-label"},[t._v("运动项目:")]),t._v(" "),a("div",{staticClass:"controls"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.couponSelected,expression:"couponSelected"}],staticClass:"span2",attrs:{id:"item_type",name:"item_type"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.couponSelected=e.target.multiple?a:a[0]},t.getCouponSelected]}},t._l(t.couponList,function(e){return a("option",{domProps:{value:e.id}},[t._v(t._s(e.name))])}))])]),t._v(" "),a("div",{staticClass:"control-group"},[a("label",{staticClass:"control-label"},[t._v("热身时长:")]),t._v(" "),a("div",{staticClass:"controls"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.warmTime,expression:"warmTime"}],staticClass:"span2",attrs:{type:"number",id:"relax_time2",name:"relax_time2",placeholder:"时长(min)"},domProps:{value:t.warmTime},on:{input:function(e){e.target.composing||(t.warmTime=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"control-group"},[a("label",{staticClass:"control-label"},[t._v("途中时长:")]),t._v(" "),a("div",{staticClass:"controls"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.raceTime,expression:"raceTime"}],staticClass:"span2",attrs:{type:"number",id:"relax_time2",name:"relax_time2",placeholder:"时长(min)"},domProps:{value:t.raceTime},on:{input:function(e){e.target.composing||(t.raceTime=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"control-group"},[a("label",{staticClass:"control-label"},[t._v("放松时长:")]),t._v(" "),a("div",{staticClass:"controls"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.relaxTime,expression:"relaxTime"}],staticClass:"span2",attrs:{type:"number",id:"relax_time2",name:"relax_time2",placeholder:"时长(min)"},domProps:{value:t.relaxTime},on:{input:function(e){e.target.composing||(t.relaxTime=e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"item_card_score go_evaluate"},[a("van-button",{attrs:{round:"",size:"normal"},on:{click:function(e){t.addOutdoorPlan()}}},[t._v("确定")])],1)],1)},staticRenderFns:[]};var Z=a("VU/8")(H,X,!1,function(t){a("ELdL")},null,null).exports,Q={components:{[n.j.name]:n.j,[n.q.name]:n.q,[n.a.name]:n.a,[n.o.name]:n.o,[n.p.name]:n.p,[n.r.name]:n.r},data:()=>({title:"室外运动计划",id:"",warmTime:"",raceTime:"",relaxTime:""}),created(){this.getTime()},methods:{onClickLeft(){this.$router.go(-1)},onClickRight(){this.$router.push({name:"class_list"})},getTime(){this.warmTime=this.$route.params.warmTime/60,this.raceTime=this.$route.params.raceTime/60,this.relaxTime=this.$route.params.relaxTime/60,console.log(this.$route.params.calorie)},async addOutdoorPlan(){if(n.r.loading({mask:!0,message:"加载中..."}),0==this.warmTime||0==this.raceTime||0==this.relaxTime)n.r.fail("缺少数据");else{let t=this.warmTime- -this.raceTime- -this.relaxTime,e=(60*t/(this.$route.params.warmTime- -this.$route.params.raceTime- -this.$route.params.relaxTime)*this.$route.params.calorie).toFixed(2);const a={id:this.$route.params.id,warmTime:60*this.warmTime,raceTime:60*this.raceTime,relaxTime:60*this.relaxTime,duration:60*t,calorie:e};console.log(a),1==(await(t=>d.a.put("outdoor/"+t.id,v.a.stringify(t)))(a)).success?(n.r.success("添加成功"),this.$router.go(-1)):n.r.fail("添加失败")}}}},tt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"member_plan_box"},[a("van-nav-bar",{attrs:{title:t.title,"left-text":"返回","right-text":"首页","left-arrow":""},on:{"click-left":t.onClickLeft,"click-right":t.onClickRight}}),t._v(" "),a("div",{staticClass:"outdoor_sport_box"},[a("div",{staticClass:"control-group"},[a("label",{staticClass:"control-label"},[t._v("热身时长:")]),t._v(" "),a("div",{staticClass:"controls"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.warmTime,expression:"warmTime"}],staticClass:"span2",attrs:{type:"number",id:"relax_time2",name:"relax_time2",placeholder:"时长(min)"},domProps:{value:t.warmTime},on:{input:function(e){e.target.composing||(t.warmTime=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"control-group"},[a("label",{staticClass:"control-label"},[t._v("途中时长:")]),t._v(" "),a("div",{staticClass:"controls"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.raceTime,expression:"raceTime"}],staticClass:"span2",attrs:{type:"number",id:"relax_time2",name:"relax_time2",placeholder:"时长(min)"},domProps:{value:t.raceTime},on:{input:function(e){e.target.composing||(t.raceTime=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"control-group"},[a("label",{staticClass:"control-label"},[t._v("放松时长:")]),t._v(" "),a("div",{staticClass:"controls"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.relaxTime,expression:"relaxTime"}],staticClass:"span2",attrs:{type:"number",id:"relax_time2",name:"relax_time2",placeholder:"时长(min)"},domProps:{value:t.relaxTime},on:{input:function(e){e.target.composing||(t.relaxTime=e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"item_card_score go_evaluate"},[a("van-button",{attrs:{round:"",size:"normal"},on:{click:function(e){t.addOutdoorPlan()}}},[t._v("确定")])],1)],1)},staticRenderFns:[]};var et=a("VU/8")(Q,tt,!1,function(t){a("RDZ9")},null,null).exports,at={components:{[n.m.name]:n.m,[n.d.name]:n.d,[n.j.name]:n.j,[n.h.name]:n.h,[n.r.name]:n.r,[n.a.name]:n.a,[n.k.name]:n.k,[n.e.name]:n.e},data:()=>({title:"",nowMethod:"",hisMethods:[],methodList:[],show1:!1,show:!1,methodName:"",methodId:"",text:""}),created(){this.getMemberMethod()},methods:{onClickLeft(){this.$router.go(-1)},onClickRight(){this.$router.push({name:"class_list"})},async getMemberMethod(){this.title=this.$route.params.nickName;const t={userId:this.$route.params.userId,classId:sessionStorage.getItem("classId")};let e=await(t=>d.a.get("method/"+t.classId+"/"+t.userId))(t);1==e.success?(console.log(e.data),this.nowMethod=e.data.nowMethod,this.hisMethods=e.data.hisMethods):Object(n.r)("错误，请返回上一级！")},async changeDiet(){let t=await(t=>d.a.get("method",t))({params:{pageSize:40,curPage:1}});1==t.success?(console.log(t.data),this.methodList=t.data,this.show1=!0):Object(n.r)("错误，请返回上一级！")},confirmChooseDiet(t,e){this.show=!0,this.methodName=e,this.methodId=t},async updateMethod(){if(""==this.text)n.r.fail("提交失败");else{n.r.loading({mask:!0,message:"提交中...",duration:0});let t=this.text+"「由"+this.nowMethod.methodName+"变更为"+this.methodName+"」";const e={userId:sessionStorage.getItem("userId"),classId:sessionStorage.getItem("classId"),cause:t,methodId:this.methodId};1==(await(t=>d.a.put("method/"+t.classId+"/"+t.userId,t))(e)).success?(n.r.success("提交成功"),this.show=!1,this.nowMethod.methodName=this.methodName):n.r.fail("提交失败")}}}},st={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"member_diet_box"},[a("van-nav-bar",{attrs:{title:t.title,"left-text":"返回","right-text":"首页","left-arrow":""},on:{"click-left":t.onClickLeft,"click-right":t.onClickRight}}),t._v(" "),a("div",{staticClass:"diet_title"},[t._v(t._s(t.nowMethod.methodName))]),t._v(" "),a("div",{staticClass:"change"},[a("van-button",{attrs:{round:"",size:"normal"},on:{click:t.changeDiet}},[t._v("更换减肥方法")])],1),t._v(" "),t._l(t.hisMethods,function(e){return[a("div",{staticClass:"item_card_box"},[a("van-row",{staticClass:"item_card_header",staticStyle:{color:"#777"},attrs:{type:"flex"}},[a("van-col",{staticClass:"item_card_date",attrs:{span:"6"}},[t._v(t._s(e.time))]),t._v(" "),a("van-col",{staticClass:"item_card_date",attrs:{span:"16"}},[t._v(t._s(e.methodName))])],1),t._v(" "),a("van-row",{staticClass:"item_card_header",staticStyle:{color:"#777"},attrs:{type:"flex"}},["SYS"==e.sourceFrom?a("van-col",{staticClass:"item_card_date",staticStyle:{"background-color":"#51a351",color:"#fff"},attrs:{span:"4"}},[t._v("系统")]):a("van-col",{staticClass:"item_card_date",staticStyle:{"background-color":"#ee5f5b",color:"#fff"},attrs:{span:"4"}},[t._v("私教")]),t._v(" "),a("van-col",{staticClass:"item_card_date",attrs:{span:"20"}},[t._v(t._s(e.cause))])],1)],1)]}),t._v(" "),a("van-popup",{staticClass:"vanpopup",attrs:{position:"right"},model:{value:t.show1,callback:function(e){t.show1=e},expression:"show1"}},[a("van-nav-bar",{attrs:{title:"更换减肥方法","left-text":"关闭","left-arrow":""},on:{"click-left":function(e){t.show1=!1}}}),t._v(" "),a("van-row",{staticClass:"method_title"},[a("van-col",{attrs:{span:"4"}},[t._v("方法ID")]),t._v(" "),a("van-col",{attrs:{span:"3"}},[t._v("排序")]),t._v(" "),a("van-col",{attrs:{span:"12"}},[t._v("名称")])],1),t._v(" "),a("ul",{staticClass:"indoorUl"},[t._l(t.methodList,function(e){return[a("li",{on:{click:function(a){t.confirmChooseDiet(e.methodId,e.methodName)}}},[a("van-row",[a("van-col",{attrs:{span:"4"}},[t._v(t._s(e.methodId))]),t._v(" "),a("van-col",{staticClass:"words",attrs:{span:"3"}},[t._v(t._s(e.orderNum))]),t._v(" "),a("van-col",{attrs:{span:"12"}},[t._v(t._s(e.methodName))])],1)],1)]})],2)],1),t._v(" "),a("van-popup",{staticClass:"vanpop",model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("h3",[t._v("提示")]),t._v(" "),a("div",{staticClass:"van-dialog__message van-dialog__message--has-title"},[t._v("确认更换饮食方法为：『"+t._s(t.methodName)+"』吗？")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticStyle:{width:"90%",height:"4rem",margin:"auto"},attrs:{placeholder:"请填写更换原因，最多70字"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}}),t._v(" "),a("van-button",{staticStyle:{margin:"1rem"},attrs:{round:"",size:"small"},on:{click:function(e){t.show=!1}}},[t._v("取消")]),t._v(" "),a("van-button",{staticStyle:{margin:"1rem"},attrs:{round:"",size:"small",type:"primary"},on:{click:t.updateMethod}},[t._v("确认")])],1)],2)},staticRenderFns:[]};var it=a("VU/8")(at,st,!1,function(t){a("Imea")},"data-v-64b176be",null).exports,ot={components:{[n.h.name]:n.h,[n.b.name]:n.b},data:()=>({kk:10,list:[],loading:!1,finished:!1}),methods:{onLoad(){console.log("激活"),setTimeout(()=>{for(let t=0;t<10;t++)this.list.push(this.list.length+1);this.loading=!1,this.list.length>=40&&(this.finished=!0)},500)}}},nt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-list",{attrs:{finished:t.finished,offset:t.kk},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,function(t){return a("van-cell",{key:t,attrs:{title:t}})}))},staticRenderFns:[]};var rt=a("VU/8")(ot,nt,!1,function(t){a("TzC7")},null,null).exports;s.a.use(r.a);var lt=new r.a({mode:"hash",routes:[{path:"*",name:"login",component:g},{path:"/login",name:"login",component:g},{path:"/class_list",name:"class_list",component:b},{path:"/class-evaluate",name:"class_evaluate",component:y},{path:"/member-list",name:"member_list",component:L},{path:"/member-remark",name:"member_remark",component:R},{path:"/ka-list",name:"ka_list",component:P},{path:"/ka-detail",name:"ka_detail",component:j},{path:"/adjust-plan",name:"adjust_plan",component:F},{path:"/aerobics",name:"aerobics",component:V},{path:"/once-sport",name:"once_sport",component:G},{path:"/view-action",name:"view_action",component:J},{path:"/outdoor-sport",name:"outdoor_sport",component:Z},{path:"/change-time",name:"change_time",component:et},{path:"/member-diet",name:"member_diet",component:it},{path:"/loading",name:"loading",component:rt}]});s.a.config.productionTip=!1,new s.a({el:"#app",router:lt,components:{App:o},template:"<App/>"})},NqaV:function(t,e,a){t.exports=a.p+"static/img/daka.dbde285.jpg"},RDZ9:function(t,e){},TzC7:function(t,e){},cohS:function(t,e){},cp38:function(t,e){},dSKJ:function(t,e){},fqxG:function(t,e,a){t.exports=a.p+"static/img/icon.b35d63f.png"},jeGm:function(t,e){},n5gG:function(t,e){},tmjG:function(t,e){},w6Me:function(t,e){}},["NHnr"]);